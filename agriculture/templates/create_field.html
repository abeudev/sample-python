{% extends "base.html" %}

{% block title %}
   <title>Créer un nouveau champs | Agri smart</title>
{% endblock %}

{% block content %}
   <div class="container-fluid my-5">
      <div class="row">
         <div class="col-md-5 px-3">
            <h3><i class="bi bi-image-alt mx-2"></i>Renseigner un champs</h3>
            <hr class="hr-title">
         </div>
      </div>
      <div class="row">
         <div class="col-lg-4">
            <form class="col-md-12 mx-2" method="post">
               <div class="row mb-3">
                  {{ form.csrf_token() }}
               </div>
               <div class="row mb-3">
                  <label for="field-name" class="col-sm-3 col-form-label">{{form.name.label}}</label>
                  <div class="col-sm-9">
                     {{ form.name(class="form-control", placeholder="Nom du champ", id="field-name")}}
                  </div>
               </div>
               <div class="row mb-3">
                  <label for="crop-type" class="col-sm-3 col-form-label">{{form.crop.label}}</label>
                  <div class="col-sm-9">
                     {{ form.crop(class="form-select", placeholder="Nom de la culture", id="crop-type")}}
                  </div>
               </div>
               {{ form.geometry(class="form-control", id="field-geometry")}}
               <div class="row mb-3">
                  {{ form.submit(class="btn btn-lg w-100 btn-success")}}
               </div>
            </form>
         </div>
         <div class="col-lg-8" id="create-field-map">
            <div class="row justify-content-center">
               <div class="col-sm-10" id="create-field-map-div"></div>
            </div>
            <div class="row justify-content-center my-3">
               <div class="col-sm-5 d-grid gap-2">
                  <button onclick="create_field_clicked()" id="create_field_btn" class="btn btn-success btn-lg btn-block" type="button" name="button">Définir parcelle</button>
               </div>
            </div>
         </div>
      </div>
   </div>

   <div class="row my-4">
   </div>

   <!-- LEAFLET LIB + SCRIPT -->
   <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"
        integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A=="
        crossorigin=""/>
   <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"
           integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA=="
           crossorigin=""></script>
   <script type="text/javascript" src="/static/js/create_field.js"></script>
{% endblock %}
